<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "../../../docbook-xml-4.5/docbookx.dtd">
<chapter id="chapter.installing.and.running">
  <title>安装和运行 <application>OmegaT</application></title>

  <section>
    <title id="Windows.users">Windows 用户<indexterm class="singular">
        <primary>安装 OmegaT</primary> <secondary>Windows</secondary>
      </indexterm></title>

    <section>
      <title id="which.package.to.download.windows">下载安装包</title>

      <para>安装了与Oracle的Java 1.6 JRE兼容的Java实现了吗？</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">是：</emphasis>下载<emphasis>OmegaT_3.n.n_Windows_without_JRE.exe</emphasis>。</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">否/我不知道：</emphasis>下载<emphasis> OmegaT_3.n.n_Windows.exe</emphasis>。</para>

          <para>This package is bundled with Oracle's Java Runtime
          Environment. This JRE will not interfere with other Java
          implementations that may already be installed on your system.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.Windows">
      <title><application>安装 OmegaT</application></title>

      <para>要安装<application>OmegaT</application>，只需双击已下载的程序。</para>

      <para>At the beginning of the installation you can select the language
      to be used during the installation. In the following window you can
      indicate that the language selected is to be used in OmegaT. If you
      check the corresponding checkbox, the OmegaT.l4J.ini file is modified to
      use the language selected (see next section for details). Later, after
      you have accepted the license agreement, the setup program asks you
      whether you wish to create a folder in the <emphasis>start</emphasis>
      menu, and whether you wish to create a shortcut on the desktop and in
      the quick launch bar - you can create these shortcuts later by dragging
      <emphasis><application>OmegaT</application>.exe</emphasis> to the
      desktop or to the start menu to link it from there. The last frame
      offers you to have a look at the readme and changes files for the
      version you have installed.</para>
    </section>

    <section id="running.OmegaT.Windows">
      <title>运行 <application>OmegaT<indexterm class="singular">
          <primary>运行OmegaT</primary> <secondary>Windows</secondary>
        </indexterm></application></title>

      <para>一旦安装好 <application>OmegaT</application>，您可以通过点击 <emphasis><application>OmegaT</application>.jar</emphasis> 或者从命令行启动它。</para>

      <para>The simplest way to launch OmegaT, however, is to execute
      the<emphasis> <application>OmegaT</application>.exe</emphasis> program.
      <indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>Windows</secondary> <tertiary>INI 文件</tertiary>
        </indexterm>The options for the program start-up in this case will be
      read from the <emphasis><application>OmegaT</application>.l4J.ini
      </emphasis>file, which resides in the same folder as the exe file and
      which you can edit to reflect your setup. The following example for the
      INI file reserves 1GB of memory, requests French as the user language
      and Canada as the country:</para>

      <literallayout><code># OmegaT.exe runtime configuration
# To use a parameter, remove the '#' before the '-'
# Memory
-Xmx1024M
# Language
-Duser.language=FR
# Country
-Duser.country=CA  </code></literallayout>

      <para>建议：如果OmegaT 在 Windows的远程客户端中运行缓慢，你可以使用：:</para>

      <literallayout><code>-Dsun.java2d.noddraw=false </code></literallayout>
    </section>

    <section>
      <title>升级 OmegaT<indexterm class="singular">
          <primary>升级OmegaT</primary> <secondary>Windows</secondary>
        </indexterm></title>

      <para><emphasis>This information applies only to the &quot;Traditional&quot;
      Windows versions of OmegaT. It does not apply to the Web Start versions,
      which are upgraded automatically, nor to cross-platform versions
      installed on Windows.</emphasis></para>

      <para>如果您已经在电脑上安装了某个版本的 OmegaT 且希望升级到最新的版本，有两种方法：</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Install over the existing installation.
          </emphasis>To do this, simply select the same installation folder as
          the existing installation when installing the new version. The &quot;old&quot;
          version of OmegaT will be overwritten, but any settings from it will
          be retained. This includes preferences set from within OmegaT, any
          changes you have made to your<filename> OmegaT.l4J.ini</filename>
          file, and also your launch script (.bat file), if you are using
          one.</para>
        </listitem>
      </itemizedlist>

      <para>使用这种方法您可以下载“不含 JRE 的 Windows” 版本，因为新的安装程序可以使用原来的 JRE。</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Install to a new folder. </emphasis>This
          will enable you to keep both versions side-by-side, which you may
          wish to do until you feel comfortable with the new version. This
          method will also use preferences and settings you have made from
          within OmegaT. In this case, however:</para>

          <itemizedlist>
            <listitem>
              <para>如果您对 <filename> OmegaT.l4J.ini </filename> 进行了修改或使用 .bat 文件，那么必须把它们复制过去。</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>如果您已安装的程序是“带 JRE 的 Windows”版本，那么新的安装程序也必须是“带 JRE 的 Windows”版本。</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section id="Linux.Intel.users">
    <title>Linux (Intel) 用户<indexterm class="singular">
        <primary>安装 OmegaT</primary> <secondary>Linux</secondary>
      </indexterm></title>

    <section id="which.package.to.download.Linux">
      <title>下载正确的安装包</title>

      <para>安装了与Oracle的Java 1.6 JRE兼容的Java实现了吗？</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">是：</emphasis>下载<emphasis>OmegaT_3.n.n_Without_JRE.zip</emphasis>。</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">否/我不知道：</emphasis>下载<emphasis>OmegaT_3.n.n_Linux.tar.bz2</emphasis>。</para>

          <para>This package is bundled with Oracle's Java Runtime
          Environment. This JRE will not interfere with other Java
          implementations that may already be installed on your system.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.Linux">
      <title><application>安装 OmegaT</application></title>

      <para>Unpack/untar the downloaded file. This will create an omegat/
      folder in the working folder in which you will find all the files needed
      to run <application>OmegaT</application>. To untar the
      <emphasis>.tar.gz</emphasis> file:</para>

      <para><emphasis>$ tar xf downloaded_file.tar.gz</emphasis></para>
    </section>

    <section id="adding.OmegaT.to.your.menus.or.panels">
      <title>向菜单（KDE）或面板（Gnome）中增加 <application>OmegaT</application></title>

      <section id="KDE.users">
        <title>KDE 4 用户<indexterm class="singular">
            <primary>定制OmegaT</primary> <secondary>Linux</secondary>
          </indexterm></title>

        <para>可按下列步骤添加 <application>OmegaT</application> 到菜单中：</para>

        <itemizedlist>
          <listitem>
            <para>Press <emphasis role="bold"> <keysym>Alt+F2</keysym>
            </emphasis> to show KRunner. Type
            <emphasis>kmenuedit+enter</emphasis> to run the command. The
            KMenuEditor appears. In KMenuEditor select <emphasis>File -&gt;
            New Item.</emphasis></para>
          </listitem>

          <listitem>
            <para>Then, after selecting a suitable menu, add a submenu/item
            with <emphasis>File - New</emphasis> Submenu and <emphasis>File -
            New Item</emphasis>. Enter <application>OmegaT</application> as
            the name of the new item.</para>
          </listitem>

          <listitem>
            <para>在 &quot;命令［Command］&quot; 字段中，通过导航［navigation］按钮找到 <application>OmegaT</application> 启动脚本（在解压目录中命名为 <application>OmegaT</application> 的文件)并加以选中。</para>
          </listitem>

          <listitem>
            <para>点击图标按钮（在 Name/Description/Comment 字段的右边）。</para>
          </listitem>

          <listitem>
            <para>Other Icons - Browse, and navigate to the /images subfolder
            in the <application>OmegaT</application> application folder.
            Select the <application>OmegaT</application>.png icon.</para>
          </listitem>

          <listitem>
            <para>最后，通过<emphasis>“文件-保存”［File－Save］</emphasis>保存所作变更。</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="GNOME.users">
        <title>GNOME 用户</title>

        <para>可按下列步骤添加 <application>OmegaT</application> 到菜单中：</para>

        <itemizedlist>
          <listitem>
            <para>在面板上单击鼠标右键——<emphasis>添加新启动器［Add New Launcher］。</emphasis></para>
          </listitem>

          <listitem>
            <para>Enter &quot;<application>OmegaT</application>&quot; in the &quot;Name&quot;
            field; in the &quot;Command&quot; field, use the navigation button to find
            your <application>OmegaT</application> launch script (the file
            named <application>OmegaT</application> in the unpacked folder).
            Select it and confirm with OK.</para>
          </listitem>

          <listitem>
            <para>Click on the icon button, then hit
            <emphasis>Browse...</emphasis> and navigate to the /images
            subfolder in the <application>OmegaT</application> application
            folder. Select the
            <emphasis><application>OmegaT</application>.png</emphasis> icon.
            GNOME may fail to display the icon files in the available formats
            and initially appear to expect an SVG file, but if the folder is
            selected, the files should appear and
            <application>OmegaT</application>.png can be selected.</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>

    <section id="running.OmegaT.Linux">
      <title>运行 <application>OmegaT<indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>Linux</secondary>
        </indexterm></application></title>

      <para>You can launch OmegaT from the command line with a script that
      includes start-up options or you can click on
      <emphasis><application>OmegaT</application>.jar</emphasis> to launch it
      directly. Methods differ depending on the distribution. Make sure that
      your <emphasis>PATH </emphasis>settings are correct and that
      .<emphasis>jar</emphasis> files are properly associated with a Java
      launcher. Check &quot;Command line launching&quot; below for more
      information.</para>
    </section>
  </section>

  <section id="MAC.OSX.users">
    <title>Mac OS X 用户<indexterm class="singular">
        <primary>安装 OmegaT</primary> <secondary>OS X</secondary>
      </indexterm></title>

    <section id="which.package.to.download.OSX">
      <title>下载安装包</title>

      <para><application>OmegaT</application>包含 Java JRE 1.8</para>

      <para>下载<emphasis>OmegaT_3.n.n_Mac.zip</emphasis>。</para>
    </section>

    <section id="OmegaT.installation.OSX">
      <title><application>安装 OmegaT</application></title>

      <para>Double click on <emphasis>OmegaT_3.n.n_Mac.zip</emphasis> to
      unpack it. This creates a folder called <emphasis>
      <application>OmegaT</application> </emphasis>. The folder contains 2
      files: index.html and
      <emphasis><application>OmegaT</application>.app.</emphasis> Copy the
      folder to a suitable folder (e.g. Applications). Once you have done
      this, you can delete the <emphasis>OmegaT_3.n.n_Mac.zip</emphasis> file,
      it is no longer needed.</para>
    </section>

    <section id="adding.OmegaT.to.the.dock">
      <title>添加 <application>OmegaT</application> 到 Dock</title>

      <para>拖放 <emphasis><application>OmegaT</application>.app</emphasis> 到 Dock 中。</para>
    </section>

    <section id="running.OmegaT.OSX">
      <title>运行 <application>OmegaT<indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>OS X</secondary>
        </indexterm></application></title>

      <para>双击 <emphasis> <application>OmegaT</application>.app</emphasis> 或点击它在 Dock 中的位置。</para>

      <para>你可以通过编辑 <emphasis>Properties</emphasis>以及<emphasis>组件中的Configuration.properties</emphasis> 文件来修改OmegaT的行为。</para>

      <para>To access
      <application><emphasis>Configuration.properties</emphasis></application>,
      right-click on
      <emphasis><application>OmegaT</application>.app</emphasis> and select
      &quot;Show Package Contents&quot;, then open the file in Contents/Resources by
      right-clicking on it and selecting your text editor of choice. You can
      also &quot;cd&quot; there directly from the command line and open
      <application><emphasis>Configuration.properties</emphasis> in a command
      line editor like emacs or vi</application>.<indexterm class="singular">
          <primary>定制OmegaT</primary> <secondary>OS X</secondary> <tertiary>启动参数</tertiary>
        </indexterm></para>

      <para>Options are changed by modifying
      <emphasis>Configuration.properties</emphasis>. For pre-defined options,
      remove the # before a parameter to enable it. For example,
      <filename>LANGUAGE=&quot;-Duser.language=ja&quot;</filename> (without the #) will
      launch <application>OmegaT</application> with the user interface in
      Japanese.</para>

      <para>To change the amount of memory available, edit
      <emphasis>OmegaT.app/Contents/Info.plist</emphasis> file and
      change the content of &lt;string&gt;-Xmx1024M&lt;/string&gt;. For
      instance, &lt;string&gt;-Xmx2048M&lt;/string&gt; will launch OmegaT with
      2 gigas of memory.</para>

      <para>要启动<emphasis><application>OmegaT</application>.app</emphasis>的多种示例，双击<emphasis>OmegaT.sh</emphasis>，它位于<emphasis><application>OmegaT</application>.app/ Contents/MacOS/</emphasis>目录下。</para>

      <para>Use the <emphasis><application>OmegaT</application>.jar</emphasis>
      file located in
      <emphasis><application>OmegaT</application>.app/Contents/MacOS/Java/</emphasis>
      to launch <application>OmegaT</application> from the command line. Check
      &quot;Command line launching&quot; below for more information.</para>
    </section>

    <section id="Mac.OSX.goodies">
      <title>Mac OS X 优势</title>

      <para><emphasis><application>OmegaT</application>.app</emphasis> can be
      accessed from the Mac OS X Services. You can thus select a word anywhere
      in <application>OmegaT</application> and use Services to check this
      word, for instance in Spotlight or in Google. You can also use
      AppleScript or Automator to create Services or scripts that will
      automate frequent actions</para>
    </section>
  </section>

  <section id="other.systems">
    <title>其它系统<indexterm class="singular">
        <primary>安装 OmegaT</primary> <secondary>其他系统</secondary>
      </indexterm></title>

    <para>这里的信息适用于诸如 Solaris SPARC/x86/x64、Linux x64/PowerPC、Windows x64 的系统</para>

    <section>
      <title id="which.package.to.download.other">下载正确的安装包</title>

      <para><application>OmegaT</application> is available bundled with a
      Oracle Java JRE for Linux (Intel x86) and Windows platforms. Users of
      other platforms (Linux PowerPC, Linux x64, Solaris SPARC/x86/x64,
      Windows x64 etc) must have a running compatible Java JRE on their system
      to be able to use <application>OmegaT</application>.</para>

      <para>安装了与Oracle的Java 1.6 JRE兼容的Java实现了吗？</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Yes: </emphasis>download
          <emphasis>OmegaT_3.n.n_Windows_without_JRE.</emphasis>zip. This
          package can be used on any platform where a Java 1.6 JRE compatible
          JRE is installed.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">I don't know:</emphasis> open a terminal
          and type &quot;java -version&quot;. If a &quot;command not found&quot; or similar
          message is returned, it is likely that Java is not installed on your
          system</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">否：</emphasis>获取适用于您系统的Java JRE（见下文）并下载<emphasis>OmegaT_3.n.n_Without_JRE.zip</emphasis>。</para>

          <para>Oracle在<ulink url="http://www.oracle.com/technetwork/java/archive-139210.html">http://www.oracle.com/technetwork/java/archive-139210.html</ulink>提供了用于Solaris SPARC/x86（Java 1.6）和Linux x64、Solaris x64、Windows x64（Java 1.6）的JRE</para>

          <para>IBM 在 <ulink url="http://www.ibm.com/developerworks/java/jdk/linux/download.html">http://www.ibm.com/developerworks/java/jdk/linux/download.htm</ulink> 提供了用于 Linux PowerPC 的 JRE</para>

          <para>按照所需安装包的说明操作。</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.other">
      <title><application>安装 OmegaT</application><indexterm class="singular">
          <primary>安装 OmegaT</primary> <secondary>其他系统</secondary>
        </indexterm></title>

      <para>To install <application>OmegaT</application>, simply unpack the
      <emphasis role="bold">OmegaT_3.n.n_Without_JRE.zip</emphasis> file. This
      creates an <emphasis>./OmegaT_3.n.n_Without_JRE/</emphasis> folder in
      the working folder with all the files necessary to run
      <application>OmegaT</application>.</para>
    </section>

    <section id="installing.convenient.shortcuts">
      <title>安装便捷的快捷方式</title>

      <para>按照系统的提示在方便的地方安装 <application>OmegaT</application> 快捷方式。</para>
    </section>

    <section id="running.OmegaT.other">
      <title>运行 <application>OmegaT<indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>其他系统</secondary>
        </indexterm></application></title>

      <para>Once <application>OmegaT</application> is installed, you can
      launch it directly from the command line, you can create a script that
      includes launch parameters for the command line or you can click on
      <emphasis><application>OmegaT</application>.jar</emphasis> to launch it
      directly. Methods differ depending on the distribution. Make sure that
      your <emphasis>PATH</emphasis> settings are correct and that
      <emphasis>.jar </emphasis> files are properly associated with a Java
      launcher. Check &quot;Command line launching&quot; below for more
      information.</para>
    </section>
  </section>

  <section id="drag.and.drop">
    <title>拖放<indexterm class="singular">
        <primary>运行 OmegaT</primary> <secondary>拖放</secondary>
      </indexterm></title>

    <para>In most systems, it is possible to open a project by dropping an
    <filename>omegat.project</filename> file onto the OmegaT icon on the
    desktop. It might also be possible to open an OmegaT project by
    double-clicking on an <filename>omegat.project</filename> file.</para>
  </section>

  <section id="using.Java.Web.Start">
    <title>使用 Java Web Start<indexterm class="singular">
        <primary>运行 OmegaT</primary> <secondary>使用 Java Web Start</secondary>
      </indexterm></title>

    <para>Java Web Start technology (part of Java 1.6 and above) can be used
    to deploy standalone Java software applications with a single click over
    the network. Java Web Start ensures that the latest version of the
    application will be deployed, as well as the correct version of the Java
    Runtime Environment (JRE) used. To start OmegaT for the first time with
    Java Web Start, load the following URL in your browser:</para>

    <para><emphasis>https://omegat.sourceforge.io/webstart/<application>OmegaT</application>.jnlp </emphasis></para>

    <para>Download the file<emphasis>
    <application>OmegaT</application>.jnlp</emphasis> and then click on it.
    During the installation, depending on your operating system, you may
    receive several security warnings. The permissions you give to this
    version (which may appear as &quot;unrestricted access to the computer&quot;) are
    identical to the permissions you give to the local version, i.e., they
    allow access to the hard drive of the computer. Subsequent clicks on
    <emphasis><application>OmegaT</application>.jnlp</emphasis> will check for
    any upgrades, install them, if there are any, and then start
    <application>OmegaT</application>. After the initial installation you can,
    of course, also use
    <emphasis><application>OmegaT</application>.jnlp</emphasis> also when you
    are offline.</para>

    <para><emphasis role="bold">Privacy</emphasis>:
    <application>OmegaT</application> Java Web Start does not save any of your
    information beyond the computer on which you are running it. The
    application runs on your machine only. Your documents and translation
    memories remain on your computer, and the
    <application>OmegaT</application> project will have no access to your work
    or information.</para>

    <para>请注意，如果您需要某个启动命令参数（见上文），就不得不使用正常安装。</para>
  </section>

  <section>
    <title>从命令行启动 OmegaT<indexterm class="singular">
        <primary>运行 OmegaT</primary> <secondary>命令行启动</secondary>
      </indexterm></title>

    <para>Normally, it is not necessary to start
    <application>OmegaT</application> from the command line. However, the
    command-line alternative allows the user to control and modify the
    program's behavior. There are two ways of launching
    <application>OmegaT</application> using the command line.</para>

    <section id="method1.opening.commandline.window">
      <title>打开命令行窗口</title>

      <para>A command line window is also referred to as a &quot;terminal window&quot;.
      On Windows it is called an &quot;MS-DOS window&quot; and is available from the
      Start Menu, inside Programs, through the &quot;MS-DOS&quot; item. The Mac OS X
      equivalent is the application Terminal located in Applications →
      Utilities.</para>

      <para>To launch <application>OmegaT</application>, you must normally
      type two commands. The first of these is:</para>

      <para><emphasis> <literal>cd {文件夹}</literal> </emphasis></para>

      <para>where<emphasis> {folder}</emphasis> is the name of the folder,
      with complete path, in which your <application>OmegaT</application>
      program - specifically, the file
      <emphasis><application>OmegaT</application>.jar</emphasis> - is located.
      In practice, this command will therefore be something like this:</para>

      <para>在 Windows 上</para>

      <para><emphasis> <literal>cd C:\Program
      Files\<application>OmegaT</application></literal> </emphasis></para>

      <para>在 Mac OS X 上</para>

      <para><literal> <literal>cd &lt;<application>OmegaT</application>.app
      location&gt;/<application>OmegaT</application>.app/Contents/Resources/Java/</literal>
      </literal></para>

      <para>在 Linux 上</para>

      <para><literal>cd /usr/local/omegat</literal></para>

      <para>This command changes the folder to the folder containing the
      executable <application>OmegaT</application> file. The second command is
      the command which actually launches <application>OmegaT</application>.
      In its most basic form, this command is:</para>

      <para><literal>java -jar
      <application>OmegaT</application>.jar</literal></para>

      <para>请注意如果在Windows外的其中操作系统中输入错误的大小写形式，例如输入<emphasis>omegat</emphasis> 而不是<emphasis>OmegaT </emphasis>，那么程序将不会启动！</para>

      <para>该方法对于找出问题的根源有特别的意义：如果在使用程序过程中发生了错误，在终端窗口所显示的错误信息对查找原因提供了有用的信息。</para>

      <para>The above method somewhat impractical way of launching a program
      routinely. For this reason, the two commands described above are
      contained in a file (a &quot;script&quot;, also called a &quot;.bat file&quot; on Windows
      systems).</para>

      <para>When this file is executed, the commands within it are
      automatically carried out. Consequently, to make changes to the launch
      command, it is sufficient to modify the file.</para>
    </section>

    <section id="launch.command.arguments">
      <title>启动命令参数<indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>启动脚本参数</secondary>
        </indexterm></title>

      <para>The basic command has already been mentioned above. Changes to
      this command involve the addition of &quot;arguments&quot; to it. Arguments are
      added after the initial <emphasis>&quot;java&quot;</emphasis>, and before the
      <emphasis>&quot;-jar <application>OmegaT</application>.jar&quot;</emphasis>. Note
      that in Windows you can change the <filename>OmegaT.l4J.ini</filename>
      file to reflect your preferences. In other platforms, you can modify
      <filename>Configuration.properties</filename> file on the Mac, or
      <filename>OmegaT</filename> launcher under Linux to do the same.</para>

      <para>A list of possible arguments is given below. Advanced users can
      obtain more information on the arguments by typing <emphasis>man
      java</emphasis> in the terminal window.</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">用户界面语言</emphasis></para>

          <para><emphasis role="bold">-Duser.language=XX</emphasis><indexterm class="singular">
              <primary>运行OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>用户界面语言</tertiary>
            </indexterm> Normally, i.e. when <application>OmegaT</application>
          is launched without any arguments, the program first detects the
          language of the user's operating system. If a user interface in this
          language is available, <application>OmegaT</application> uses it.
          So, if the user's operating system is Russian and
          <application>OmegaT</application> has been localized in Russian,
          <application>OmegaT</application> is displayed with a Russian user
          interface, Russian menus, etc. If the language of the user's system
          is not available, <application>OmegaT</application> defaults to
          English. This is the standard behavior.</para>

          <para>The <emphasis>&quot;-Duser.language=XX&quot;</emphasis> argument causes
          <application>OmegaT</application> to use the language specified
          rather than the language of the user's operating system. &quot;XX&quot; in the
          command stands for the two-digit code of the desired language. To
          launch <application>OmegaT</application> with a French interface
          (for example on a Russian operating system), the command would
          therefore be:</para>

          <para><literal>java -Duser.language=fr -jar
          <application>OmegaT</application>.jar</literal></para>
        </listitem>
      </itemizedlist>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">用户国家</emphasis></para>

          <para><emphasis role="bold">-Duser.country=XX</emphasis><indexterm class="singular">
              <primary>运行OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>用户国家</tertiary>
            </indexterm> Besides the language, you can also specify the
          country, for example CN or TW in case of the Chinese language. To
          display the instant start guide in the desired language, you need to
          specify both the language and the country. This is necessary even if
          there's only one combination available, like pt_BR in case of
          Portuguese / Brazil.</para>
        </listitem>
      </itemizedlist>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">内存分配</emphasis></para>

          <para><emphasis role="bold">-XmxZZM </emphasis><indexterm class="singular">
              <primary>运行 OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>内存分配</tertiary>
            </indexterm>This command assigns more memory to
          <application>OmegaT</application>. By default, 512 MB are assigned,
          so there is no advantage in assigning less than this figure. &quot;ZZ&quot;
          stands for the amount of memory assigned, in megabytes. The command
          to launch <application>OmegaT</application> with assignment of 1024
          MB (1 gigabyte) of memory is therefore:</para>

          <para><literal>java -Xmx1024M -jar
          <application>OmegaT</application>.jar</literal></para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">代理服务器主机 IP 地址</emphasis></para>

          <para><emphasis role="bold"><emphasis role="bold">-Dhttp.proxyHost=nnn.nnn.nnn.nnn</emphasis> <indexterm class="singular">
              <primary>运行OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>代理主机IP地址</tertiary>
            </indexterm></emphasis> 如果您系统上使用代理服务器，在这里指定它的地址。</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">代理主机端口</emphasis></para>

          <para><emphasis role="bold">-Dhttp.proxyPort=NNNN</emphasis> <indexterm class="singular">
              <primary>运行OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>代理主机端口</tertiary>
            </indexterm> 访问代理服务器使用的端口。</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">谷歌翻译v2</emphasis></para>

          <para><emphasis role="bold">-Dgoogle.api.key=A123456789B123456789C123456789D12345678
          </emphasis><emphasis role="bold"><indexterm class="singular">
              <primary>运行 OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>谷歌翻译 V2</tertiary>
            </indexterm></emphasis> If you have signed up for the Google
          Translate services, enter your private Google API key here. Note
          that the key is 38 characters long.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Microsoft
          Translator</emphasis><indexterm class="singular">
              <primary>运行OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>Microsoft Translator</tertiary>
            </indexterm></para>

          <para>Make sure that you have a free Microsoft account. You’ll need
          this to sign-in to <ulink url="http://datamarket.azure.com/dataset/bing/microsofttranslator#schema">Windows
          Azure Marketplace</ulink> and use the Translator service. Note that
          up to 2M characters per month are free of charge. The two entries
          required are available in your <ulink url="https://datamarket.azure.com/account">account page</ulink>
          under Primary account key and Customer-ID:</para>

          <para><emphasis role="bold">-Dmicrosoft.api.client_id=</emphasis><emphasis role="bold">XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</emphasis></para>

          <para>-<emphasis role="bold">Dmicrosoft.api.client_secret=XXXX9xXxX9xXXxxXXX9xxX99xXXXX9xx9XXxXxXXXXX=</emphasis></para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Yandex Translate</emphasis><indexterm class="singular">
              <primary>运行 OmegaT</primary> <secondary>启动脚本参数</secondary> <tertiary>Yandex 翻译</tertiary>
            </indexterm></para>

          <para>Make sure that you have a free Yandex account. You’ll need
          this to be able to obtain and use Yandex Translate API key. API keys
          can be requested using <ulink url="http://api.yandex.com/key/form.xml?service=trnsl ">API key
          request form</ulink>, and viewed on <ulink url="http://api.yandex.com/key/keyslist.xml ">My Keys</ulink>
          page.</para>

          <para><emphasis role="bold">-Dyandex.api.key=</emphasis><emphasis role="bold">trnsl.1.1.XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</emphasis> </para>
        </listitem>
      </itemizedlist>

      <para>参数可以进行组合：要想以上面所举所有例子为参数启动 <application>OmegaT</application> 的话，命令可能是：</para>

      <para><literal>java -Dswing.aatext=true -Duser.language=pt
      -Duser.country=BR -Xmx1024M <application>-Dhttp.proxyHost=192.168.1.1
      -Dhttp.proxyport<emphasis role="bold">=</emphasis>3128 -jar
      -OmegaT</application>.jar</literal></para>
    </section>

    <section id="omegat.command.arguments">
      <title>以命令行模式运行 OmegaT<indexterm class="singular">
          <primary>运行 OmegaT</primary> <secondary>命令行模式</secondary>
        </indexterm></title>

      <para>The purpose of the console mode is to use OmegaT as a translation
      tool in a scripting environment. When started in console mode, no GUI is
      loaded (so it will work on any console) and the given project is
      automatically processed as requested.</para>

      <section id="console.mode.prerequisites">
        <title>先决条件</title>

        <para>To run <application>OmegaT</application> in the command line
        mode, a valid <application>OmegaT</application> project must be
        present. The location does not matter, since you have to add it to the
        command line at the start-up anyway.</para>

        <para>If you need altered settings, the configuration files must be
        available. This can be achieved in two ways:</para>

        <itemizedlist>
          <listitem>
            <para>Run <application>OmegaT</application> normally (with the
            GUI) and specify the settings. If you start
            <application>OmegaT</application> in console mode, it will use the
            same settings.</para>
          </listitem>

          <listitem>
            <para>If you can't run <application>OmegaT</application> normally
            (no graphical environment available): copy the settings files from
            some other <application>OmegaT</application> installation on
            another machine to a specific folder. The location does not
            matter, since you can add it to the command line at startup. The
            relevant files are <literal>filters.conf</literal> and
            <literal>segmentation.conf</literal> and can be found in the user
            home folder (e.g. <literal>C:\Documents and
            Settings\%User%\<application>OmegaT</application></literal> under
            Windows, <literal>%user%/.omegat/</literal> under Linux)</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="starting.in.console.mode">
        <title>以控制台模式启动</title>

        <para>To start <application>OmegaT</application> in console mode, some
        extra parameters have to be passed to it on startup. The most
        important is <literal>&lt;project-dir&gt;</literal>, and
        optionally<literal> --config-dir=&lt;config-dir&gt;.
        </literal>Example:</para>

        <para><literal>java -jar <application>OmegaT</application>.jar
        /path/to/project \</literal></para>

        <para><literal> --config-dir=/path/to/config-files/ \</literal></para>

        <para><literal> --config-file=/path/to/config-file/ \</literal></para>

        <para><literal>
        --mode=console-translate|console-createpseudotranslatetmx|console-align</literal></para>

        <para><literal> --source-pattern={regexp}</literal></para>

        <para>请注意所有的参数都以两个 - 字符开始。</para>

        <para><emphasis role="bold">说明：</emphasis></para>

        <itemizedlist>
          <listitem>
            <para><literal>&lt;project-dir&gt;</literal> tells
            <application>OmegaT</application> where to find the project to
            translate. If given, <application>OmegaT</application> starts in
            console mode and will translate the given project.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--config-dir=&lt;config-dir&gt;</literal> tells
            <application>OmegaT</application> in which folder the
            configuration files are stored. If not given,
            <application>OmegaT</application> reverts to default values
            (<application>OmegaT</application> folder under user home or, if
            unavailable, the current working folder). Note double -
            character</para>
          </listitem>

          <listitem>
            <para><literal>--config-file=&lt;config-file&gt;</literal> 文件会告诉<application>OmegaT</application> 使用什么配置文件。</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><emphasis><literal>--mode</literal>=...-</emphasis> <application>OmegaT</application> 以控制台模式启动，接着执行下列的某个服务</para>

            <itemizedlist>
              <listitem>
                <para><emphasis><literal>--mode=console-translate</literal></emphasis></para>

                <para>In this mode, OmegaT will attempt to translate the files
                in /source/ with the available translation memories. This is
                useful to run OmegaT on a server with TMX files automatically
                fed to a project.</para>
              </listitem>

              <listitem>
                <para><literal>--mode=console-createpseudotranslatetmx</literal></para>

                <para>In this mode OmegaT will create a TMX for the whole
                project, based on the source files only. You specify the TMX
                file to be created with</para>

                <para><literal>--pseudotranslatetmx=allsegments.tmx
                --pseudotranslatetype=[equal|empty]</literal></para>

                <para>参数 <emphasis>pseudotranslatetype</emphasis> 指明了目标片段是与源片段相同或留空。</para>
              </listitem>

              <listitem>
                <para><literal>--mode=console-align</literal></para>

                <para>In this mode, OmegaT will align the Java properties
                files found in the<literal> /source/ </literal>folder of the
                project to the contents found at the specified location. The
                resulting TMX is stored in the <filename>/omegat/</filename>
                folder under the name <filename>align.tmx</filename>.</para>

                <para>此时需要额外的参数指明目标数据的位置：</para>

                <para><literal>--alignDir={已译文件的位置}</literal></para>

                <para><filename>alignDir</filename> must contain a translation
                in the target language of the project. For instance, if the
                project is EN-&gt;FR, alignDir must contain a bundle ending
                with _fr. The resulting tmx is stored in the
                <literal>omegat</literal> folder under the name
                <filename>align.tmx</filename>.</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para><literal>--source-pattern={regexp} </literal></para>

            <para>When mode has been used, this option will specify the files
            to be processed automatically. If the parameter is not specified,
            all files will be processed. Here's few typical examples to limit
            your choice:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis><literal>.*\.html</literal></emphasis></para>

                <para>此时将翻译所有的 HTML 文件，需要注意到 *.html 在正则表达式中指定时需要进行转义 (\.)。</para>
              </listitem>

              <listitem>
                <para><literal>test\.html</literal></para>

                <para>Only the file test.html at the root of the source folder
                will be translated. If there are other files named test.html
                in other folders, they will be ignored.</para>
              </listitem>

              <listitem>
                <para><literal>dir-10\\test\.html</literal></para>

                <para>Only the file test.html in the folder dir-10 will be
                processed. Again note that the backslash is escaped as
                well.</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para><literal>--output-tag-validation-={regexp} </literal></para>

            <para>When mode has been used, this option will specify the files
            to be processed automatically. If the parameter is not specified,
            all files will be processed. Here's few typical examples to limit
            your choice:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis><literal>.*\.html</literal></emphasis></para>

                <para>此时将翻译所有的 HTML 文件，需要注意到 *.html 在正则表达式中指定时需要进行转义 (\.)。</para>
              </listitem>

              <listitem>
                <para><literal>test\.html</literal></para>

                <para>Only the file test.html at the root of the source folder
                will be translated. If there are other files named test.html
                in other folders, they will be ignored.</para>
              </listitem>

              <listitem>
                <para><literal>dir-10\\test\.html</literal></para>

                <para>Only the file test.html in the folder dir-10 will be
                processed. Again note that the backslash is escaped as
                well.</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para><literal>--tag-validation=[abort|warn]</literal><parameter>
            outputFileName</parameter></para>

            <para>This option allows the tag validation in a batch mode. If
            <literal>abort </literal>is selected, the tag validator will stop
            on the first invalid segment. If <literal>warn</literal> is
            specified, the tag validator will process all segments and write
            warnings about any segments with invalid tags into the file
            specified.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--no-team</literal> addresses projects set up for
            team work. Use it if OmegaT is not to synchronize the project
            contents.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--disable-project-locking</literal> allows, under
            Windows, to open the same project with several instances of
            OmegaT. By default, under Windows,
            <literal>omegat.project</literal> is locked, and an error message
            is received when trying to open a project already opened in
            another instance of OmegaT. With that option, no locking
            occurs.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="console.mode.option.quiet">
        <title>静默选项</title>

        <para>An extra command line parameter specific to console mode:
        <literal>--quiet.</literal> In the quiet mode, less info is logged to
        the screen. The messages you would usually find in the status bar are
        not displayed.</para>

        <para>用法：<literal>java -jar <application>OmegaT</application>.jar /path/to/project --mode=console-translate --quiet</literal></para>
      </section>

      <section id="console.mode.option.validatetags">
        <title>标记验证选项</title>

        <para>Another extra command line parameter specific to console mode:
        <literal>--tag-validation=[abort|warn].</literal> When this parameter
        is added, tag validation is done prior to translation/aligning. If the
        value is <literal>abort</literal>, then on tag errors the errors are
        printed and the program stops. If the value is <literal>warn</literal>
        then the errors are printed but OmegaT continues.</para>

        <para>用法：<literal>java -jar <application>OmegaT</application>.jar /path/to/project --mode=console-translate --tag-validation=abort</literal></para>
      </section>
    </section>
  </section>

  <section id="building.OmegaT.from.source">
    <title>从源代码编译 <application>OmegaT</application><indexterm class="singular">
        <primary>运行 OmegaT</primary> <secondary>从源代码编译 OmegaT</secondary>
      </indexterm></title>

    <para>Note that you will need the ant program
    (<emphasis>http://ant.apache.org/bindownload.cgi</emphasis>) to build your
    own version of OmegaT. Unpack the
    <emphasis>OmegaT_3.n.n_Source.zip</emphasis> file and enter the
    OmegaT_3.n.n_Source folder or enter the <emphasis>./omegat/</emphasis>
    folder of the SVN checked out code. Please make sure that a build.xml file
    is present in that folder. Then, on the command line, type:</para>

    <para><literal>$ ant jar release</literal></para>

    <para>该命令将在 ./dist/ 目录中创建一份完整的 <application>OmegaT</application> 发行文件，其中包含运行 <application>OmegaT</application> 需要的所有文件。</para>
  </section>
</chapter>